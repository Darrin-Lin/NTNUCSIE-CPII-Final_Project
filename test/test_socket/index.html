<!DOCTYPE html>
<html charset="utf-8">

<head>
    <title>Socket example</title>
    <!-- <script src="socket.js"></script> -->
    <script>
            var ws = new WebSocket("ws://localhost:" + 8080);
            ws.onopen = function () {
                console.log("Connection opened");
            };
            ws.onmessage = function (evt) {
                console.log("Received: " + evt.data);
            };
            ws.onclose = function () {
                console.log("Connection closed");
            };

            async function send(data) {
                const res = await fetch("./action?data=" + data);
            }

        function send_to_socket(port, data) {
            console.log("Sending data to socket");
            send_data(port, data);
        }
        function send_data(port, data) {
                ws.send(data);
        }
    </script>
</head>

<body>
    <h1>Socket example</h1>
    <button onclick="send_to_socket(8080,123)">Send data to socket</button>
</body>

</html>